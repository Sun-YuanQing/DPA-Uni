(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/boxMng/box-open"],{"000e":function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(o("2e17")),s=(i(o("f2a9")),i(o("00e0")),i(o("409c")));function i(t){return t&&t.__esModule?t:{default:t}}var a=function(){return o.e("components/barcode-input/barcode-input").then(o.bind(null,"d7ce"))},l={components:{barcodeInput:a},data:function(){return{old:{scrollTop:0},scrollTop:0,scrollHeight:0,details:[]}},onReady:function(){s.default.getListHeight(this)},onBackPress:function(t){return s.default.backPress(t,this.details.length>0)},methods:{onBoxScaned:function(e){var o=this;t.showLoading({mask:!0}),n.default.base_scanreqBox({data:{boxQrCode:e},success:function(e){console.log(s.default.outputLog(e)," at pages\\boxMng\\box-open.vue:75");for(var n=0;n<o.details.length;n++){var i=o.details[n];if(i.tagId==e.tagId){var a=o;return a.onScrollTop(n),t.showModal({title:"提示",content:"该标签已扫描,是否要删除",success:function(t){t.confirm?a.details.splice(n,1):t.cancel}}),void s.default.showAudio()}}o.details.push(e)},failure:function(t){s.default.showAudio()},complete:function(e,n,i){o.$refs.input_box.setFocus(),s.default.tryCatchApi({status:e,message:n}),t.hideLoading()}})},onSave:function(){var e=this;if(0==this.details.length)return t.showToast({title:"请扫描外箱",icon:"none"}),void this.$refs.input_box.setFocus();for(var o="",i=0;i<this.details.length;i++)o+=this.details[i].tagId+",";o=o.substring(0,o.length-1),t.showLoading({mask:!0}),n.default.boxOpen_post({data:{boxTagIds:o,boxSw:1},success:function(o){t.showToast({title:"操作完成",icon:"none",mask:!0}),s.default.dataInit(e),e.$refs.input_box.setFocus()},failure:function(t){s.default.showAudio()},complete:function(o,n,i){e.$refs.input_box.setFocus(),s.default.tryCatchApi({status:o,message:n}),t.hideLoading()}})},onSelectedItem:function(t){for(var e=s.default.clone(this.details),o=0;o<e.length;o++){var n=e[o];n.selectItemClass=o==t?"uni-list-cell-selected":""}this.details=e},scroll:function(t){this.old.scrollTop=t.detail.scrollTop},onScrollTop:function(e){var o=this;this.onSelectedItem(e);var n=t.createSelectorQuery().in(this).select(".scroll-view-item");n.boundingClientRect(function(t){o.scrollTop=o.old.scrollTop,o.$nextTick(function(){null!=t&&(this.scrollTop=t.height*e)})}).exec()}}};e.default=l}).call(this,o("6e42")["default"])},"16e9":function(t,e,o){"use strict";o.r(e);var n=o("000e"),s=o.n(n);for(var i in n)"default"!==i&&function(t){o.d(e,t,function(){return n[t]})}(i);e["default"]=s.a},4197:function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c},s=[];o.d(e,"a",function(){return n}),o.d(e,"b",function(){return s})},daa5:function(t,e,o){"use strict";o.r(e);var n=o("4197"),s=o("16e9");for(var i in s)"default"!==i&&function(t){o.d(e,t,function(){return s[t]})}(i);var a=o("2877"),l=Object(a["a"])(s["default"],n["a"],n["b"],!1,null,null,null);e["default"]=l.exports}},[["ae04","common/runtime","common/vendor"]]]);