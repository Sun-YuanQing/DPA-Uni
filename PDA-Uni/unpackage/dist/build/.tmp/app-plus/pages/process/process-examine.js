(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/process/process-examine"],{2495:function(e,t,o){"use strict";o.r(t);var s=o("daee"),n=o("78da");for(var a in n)"default"!==a&&function(e){o.d(t,e,function(){return n[e]})}(a);var i=o("2877"),c=Object(i["a"])(n["default"],s["a"],s["b"],!1,null,null,null);t["default"]=c.exports},"78da":function(e,t,o){"use strict";o.r(t);var s=o("ae43"),n=o.n(s);for(var a in s)"default"!==a&&function(e){o.d(t,e,function(){return s[e]})}(a);t["default"]=n.a},ae43:function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(o("2e17")),n=i(o("f2a9")),a=(i(o("00e0")),i(o("409c")));function i(e){return e&&e.__esModule?e:{default:e}}new Date;var c=function(){return o.e("components/barcode-input/barcode-input").then(o.bind(null,"d7ce"))},u={components:{barcodeInput:c},data:function(){return{old:{scrollTop:0},scrollTop:0,scrollHeight:0,input:{empNo:"",empName:""},details:[],orderItemSelected:{}}},onReady:function(){a.default.getListHeight(this)},onBackPress:function(e){return a.default.backPress(e,this.details.length>0)},methods:{onDeviceScaned:function(t){var o=this,i=this;e.showLoading({mask:!0}),s.default.basic_DeviceGetModel({data:{deviceNo:t.toLocaleString()},success:function(e){var t={id:e.id,groundId:"",deviceNo:e.deviceNo,deviceName:e.deviceName,plantCheckTime:e.plantCheckTime,checkTime:(new Date).format("yyyy/MM/dd hh:mm:ss"),rem:"",userNo:"",empNo:i.input.empNo||"",createDate:(new Date).format("yyyy/MM/dd hh:mm:ss"),entityState:n.default.entityState.added};i.details.push(t),console.log(a.default.outputLog(i.details)," at pages\\process\\process-examine.vue:108"),i.onScrollTop(i.details.length-1),a.default.showScanedAudio(),o.$refs.input_emp.setFocus()},failure:function(e){o.$refs.input_device.setFocus(),a.default.showAudio()},complete:function(t,o,s){a.default.tryCatchApi({status:t,message:o}),e.hideLoading()}})},onEmpScaned:function(t){var o=this;e.showLoading({mask:!0}),s.default.emp_a1({data:{empNo:t},success:function(e){console.log(a.default.outputLog(e)," at pages\\process\\process-examine.vue:135"),o.input.empName=e[0].empName,o.input.empNo=e[0].empNo,console.log(o.input.empNo," at pages\\process\\process-examine.vue:138"),o.orderItemSelected.empNo=o.input.empNo||"",console.log(o.orderItemSelected," at pages\\process\\process-examine.vue:140"),o.$refs.input_emp.setFocus()},failure:function(e){return o.$refs.input_emp.setFocus(),a.default.showAudio(),!1},complete:function(t,o,s){a.default.tryCatchApi({status:t,message:o}),e.hideLoading()}}),this.$refs.input_emp.setFocus()},onSave:function(){for(var t=this,o=0,n=this.details.length;o<n;o++){var i=this.details[o];if(console.log(i," at pages\\process\\process-examine.vue:162"),!i.empNo)return void e.showToast({title:"请添加人员！！",icon:"none"});if(!i.deviceNo)return void e.showToast({title:"请扫设备！！",icon:"none"})}console.log(a.default.outputLog(this.details)," at pages\\process\\process-examine.vue:178");var c=this;e.showLoading({mask:!0}),s.default.OpenMes_plantcheck({data:c.details,success:function(o){e.showToast({title:"保存成功"}),a.default.dataInit(t),t.$refs.input_device.setFocus()},failure:function(e){a.default.showAudio()},complete:function(t,o,s){a.default.tryCatchApi({status:t,message:o}),e.hideLoading()}})},onSelectedItem:function(e){for(var t=0;t<this.details.length;t++){var o=this.details[t];t==e?(o.selectItemClass="uni-list-cell-selected",this.orderItemSelected=o):o.selectItemClass=""}},scroll:function(e){this.old.scrollTop=e.detail.scrollTop},onScrollTop:function(t){var o=this;this.onSelectedItem(t);var s=e.createSelectorQuery().in(this).select(".scroll-view-item");s.boundingClientRect(function(e){o.scrollTop=o.old.scrollTop,null!=e&&o.$nextTick(function(){this.scrollTop=e.height*t})}).exec()}}};t.default=u}).call(this,o("6e42")["default"])},daee:function(e,t,o){"use strict";var s=function(){var e=this,t=e.$createElement;e._self._c},n=[];o.d(t,"a",function(){return s}),o.d(t,"b",function(){return n})}},[["18b9","common/runtime","common/vendor"]]]);